<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Engineering Productivity App</title> 
        <!-- Bootstrap CSS --> 
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Google Font -->  
            <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>  
        <style>
            body {font-family: 'Poppins', sans-serif; background-color: #f4f6f9;animation:fadeIn 0.8s ease-in}
            @keyframes fadeIn 
            {
                from{opacity: 0;}
                to{opacity: 1;}
            }
            .sidebar {background:linear-gradient(180deg,#0f172a,#1e293b);color: white;min-height: 100vh;animation: slideIn 0.6s ease-out;}
            @keyframes slideIn 
            {
                from { transform: translateX(-40px); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            .sidebar h4{font-weight: 700;margin-bottom: 20px;}
            .sidebar a {color: #cbd5e1;text-decoration: none; display: block;padding: 12px;border-radius: 8px;transition: background 0.3s, transform 0.3s;}
            .sidebar a:hover {background: #374151;color: white;transform: translateX(6px);}
            .main{background:#f8fafc;border-radius:30px 0 0 30px;}
            .card {border: none;border-radius: 16px;box-shadow: 0 10px 20px rgba(0,0,0,0.08);transition: transform 0.3s ease, box-shadow 0.3s ease;
                   animation: cardPop 0.7s ease;}
            @keyframes cardPop 
            {
                from { transform: scale(0.95); opacity: 0; }
                to { transform: scale(1); opacity: 1; }
            }
            .card:hover {transform: translateY(-6px);box-shadow: 0 15px 30px rgba(0,0,0,0.12);}
            /* KPI COLORS */
            .kpi-1{background:linear-gradient(135deg,#34d399,#059669);color:white}
            .kpi-2{background:linear-gradient(135deg,#fb7185,#e11d48);color:white}
            .kpi-3{background:linear-gradient(135deg,#38bdf8,#2563eb);color:white}
            /* BUTTONS */
            .btn-primary{background:linear-gradient(135deg,#6366f1,#4f46e5);border:none}
            .btn-warning{background:linear-gradient(135deg,#fbbf24,#f59e0b);border:none;color:black}
            .task-done {text-decoration: line-through;color: gray;}
            .notification {background: #10b981;color: white;padding: 10px;border-radius: 10px;margin-bottom: 8px}
        </style>
    </head>
    <body>
        <div class="container-fluid">
            <div class="row">
                <!-- Sidebar -->
                <div class="col-md-2 sidebar p-4">
                    <h4>‚öôÔ∏è EngiPlan</h4>
                    <a href="C:\Users\siddh\OneDrive\Desktop\websprint.html">üìä Dashboard</a>
                    <a href="C:\Users\siddh\OneDrive\Desktop\web-2.html">‚úÖ Tasks</a>
                    <a href="C:\Users\siddh\OneDrive\Desktop\web-3.html">‚è∞ Schedule</a>
                </div>

                <!-- Main Content -->
                <div class="col-md-10 p-4 main">
                    <h2 class="mb-4">üöÄ Dashboard</h2>
                    <div id="notificationArea"></div>
                    <div class="row g-4">
                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <div class="card p-4 text-center kpi-1">
                                    <h6>Tasks Completed</h6>
                                    <h2 id="taskCount">0</h2>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card p-4 text-center kpi-2">
                                    <h6>Productivity</h6>
                                    <h2> - </h2>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="card p-4 text-center kpi-3">
                                    <h6>Reminders Active</h6>
                                    <h2 id="reminderCount">0</h2>
                                </div>
                            </div>
                        </div>
                        <!-- PRODUCTIVITY CHART -->
                        
                            <div class="card p-4">
                                <h5 class="fw-bold">üìàWeekly Productivity</h5>
                                <canvas id="chart"></canvas>
                            </div>
                        
                    </div>
                </div>
                        <script>
                            let reminders = JSON.parse(localStorage.getItem("reminders")) || [];
                            let completedTasks = 0;
                            document.getElementById("taskCount").innerText = completedTasks;
                            document.getElementById("reminderCount").innerText = reminders.length;

                            if ("Notification" in window) {
                            Notification.requestPermission();
                            }

                            /* TASK SYSTEM */
                            function addTask() 
                            {
                            const input = document.getElementById("taskInput");
                            if (!input.value) return;

                            const li = document.createElement("li");
                            li.className = "list-group-item d-flex justify-content-between";
                            li.innerHTML = `
                                <span>${input.value}</span>
                                <button class="btn btn-success btn-sm" onclick="completeTask(this)">Done</button>
                                `;
                                document.getElementById("taskList").appendChild(li);
                                input.value = "";
                            }

                            function completeTask(btn) 
                            {
                            const text = btn.previousElementSibling.innerText;
                            btn.parentElement.remove();
                            completedTasks++;
                            document.getElementById("taskCount").innerText = completedTasks;
                            showNotification("‚úÖ Task Completed: " + text);
                            }
                            /* NAVIGATION */
                            function showSection(id,el)
                            {
                                document.querySelectorAll(".page").forEach(p=>p.style.display="none");
                                document.getElementById(id).style.display="block";
                                document.querySelectorAll(".sidebar a").forEach(a=>a.classList.remove("active"));
                                el.classList.add("active");
                            }
                            /* DATA */
                            let completed=Number(localStorage.getItem("completed"))||0;
                            let weekly=JSON.parse(localStorage.getItem("weekly"))||[0,0,0,0,0,0,0];
                            let reminder=JSON.parse(localStorage.getItem("reminders"))||[];
                            const today=new Date().getDay();

                            taskCount.innerText=completed;
                            reminderCount.innerText=reminders.length;
 
                            /* REMINDER SYSTEM */
                            function setReminder() 
                            {
                            const text = reminderText.value;
                            const time = reminderTime.value;
                            if (!text || !time) return alert("Fill all fields");
                            reminders.push({ text, time: new Date(time).getTime() });
                            localStorage.setItem("reminders", JSON.stringify(reminders));
                            document.getElementById("reminderCount").innerText = reminders.length;
                            showNotification("‚è∞ Reminder Set");
                            }

                            /* CHECK REMINDERS */
                            setInterval(() => 
                            {
                            const now = Date.now();
                            reminders = reminders.filter(r => 
                            {
                            if (now >= r.time) 
                            {
                            triggerAlarm(r.text);
                            return false;
                            }
                            return true;
                            });
                            localStorage.setItem("reminders", JSON.stringify(reminders));
                            document.getElementById("reminderCount").innerText = reminders.length;
                            }, 1000);

                            /* ALARM */
                            function triggerAlarm(text) 
                            {
                            document.getElementById("alarmSound").play();
                            showNotification("üîî Reminder: " + text);
                            if (Notification.permission === "granted") 
                            {
                            new Notification("Reminder", { body: text });
                            }
                            setTimeout(() => snooze(text), 5000);
                            }
                            /* DASH NOTIFICATION */
                            function showNotification(msg) 
                            {
                            const div = document.createElement("div");
                            div.className = "notification";
                            div.innerText = msg;
                            notificationArea.prepend(div);
                            setTimeout(() => div.remove(), 5000);
                            }
                            /* CHART */
                            const chart=new Chart(document.getElementById("chart"),{
                            type:"line",
                            data:{labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],datasets:[{label:"Tasks",data:weekly,borderWidth:4,borderColor:"#6366f1",tension:.4}]},
                            options:{scales:{y:{beginAtZero:true}}}});
                        </script>
        <!-- Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            function toggleTask(checkbox) {const text = checkbox.parentElement.querySelector('span');text.classList.toggle('task-done');}
        </script>
    </body>
</html>